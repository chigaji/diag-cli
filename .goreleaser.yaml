version: 2
builds:
  - id: diag
    main: ./cmd/diag
    env: [CGO_ENABLED=0]
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    ldflags:
      - -s -w
      - -X github.com/chigaji/diag-cli/internal/version.Version={{.Version}}
      - -X github.com/chigaji/diag-cli/internal/version.Commit={{.Commit}}
      - -X github.com/chigaji/diag-cli/internal/version.BuildDate={{.Date}}
archives:
  - formats: [tar.gz]
files: [none*]